<div class='mt-3'>
   <h3>Khóa học của tôi</h3>

   <table class='table'>
      <thead>
         <tr>
            <th scope='col'>#</th>
            <th scope='col'>Tên khóa học</th>
            <th scope='col'>Mô tả</th>
            <th scope='col' colspan='2'>Thời gian tạo</th>
         </tr>
      </thead>
      <tbody>
         {{#each courses}}
            <tr>
               <th scope='row'>{{sum @index 1}}</th>
               <td>{{this.name}}</td>
               <td>{{this.description}}</td>
               <td>{{this.createdAt}}</td>
               <td>
                  <a href='/courses/{{this._id}}/edit' class='btn btn-link'>Sửa</a>
                  <a
                     type='button'
                     class='btn btn-primary'
                     data-bs-toggle='modal'
                     data-bs-target='#delete-course-modal'
                     data-id={{this._id}}
                  >Xóa</a>
               </td>
            </tr>
         {{/each}}
      </tbody>
   </table>

</div>

{{! Confirm Delete Modal }}

<div id='delete-course-modal' class='modal' tabindex='-1'>
   <div class='modal-dialog'>
      <div class='modal-content'>
         <div class='modal-header'>
            <h5 class='modal-title'>Modal title</h5>
            <button type='button' class='btn-close' data-bs-dismiss='modal' aria-label='Close'></button>
         </div>
         <div class='modal-body'>
            <p>Xác nhận xóa Khóa học</p>
         </div>
         <div class='modal-footer'>
            <button id='btn-delete-course' type='button' class='btn btn-danger'>Xóa bỏ</button>
            <button type='button' class='btn btn-secondary' data-bs-dismiss='modal'>Hủy</button>
         </div>
      </div>
   </div>
</div>

{{! Delete Hidden Form }}

<form name='delete-course-form' method='POST'> </form>

<script src='https://code.jquery.com/jquery-3.6.4.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js'></script>

<script>
   document.addEventListener('DOMContentLoaded',function(){ let courseId; const deleteForm =
   document.forms['delete-course-form']; $('#delete-course-modal').on('show.bs.modal', function (event) { var button =
   $(event.relatedTarget); courseId = button.data('id'); console.log(courseId) }); const btnDeleteCourse =
   document.getElementById('btn-delete-course'); btnDeleteCourse.onclick = function (){ deleteForm.action =
   `/courses/${courseId}?_method=DELETE`; deleteForm.submit(); } })

</script>